

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/demo.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="SafeKey - é«˜çº§å¯†ç ç”Ÿæˆå™¨              :root {             --primary-color: #0071e3;             --secondary-color: #06c;             --success-color: #34c759;             --warning-color: #f">
<meta property="og:type" content="website">
<meta property="og:title" content="page.title">
<meta property="og:url" content="http://example.com/custom/tools/pwd.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="SafeKey - é«˜çº§å¯†ç ç”Ÿæˆå™¨              :root {             --primary-color: #0071e3;             --secondary-color: #06c;             --success-color: #34c759;             --warning-color: #f">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-07-03T08:32:16.372Z">
<meta property="article:modified_time" content="2025-05-15T10:36:50.000Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>page.title - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />





<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/about.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 60vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>AAAa</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>Links</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-tool"></i>
                <span>Tools</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/custom/tools/pwd.html" target="_self">
                    
                    <span>PWD</span>
                  </a>
                
              </div>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-books"></i>
                <span>Document</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/resources/" target="_self">
                    
                    <span>Resource</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/webpicks/" target="_self">
                    
                    <span>Web Picks</span>
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="page.title"></span>
          
        </div>

        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      <div class="container nopadding-x-md">
        <div id="board"
          >
          
          <div class="container">
            <div class="row">
              <div class="col-12 col-md-10 m-auto">
                

<article class="page-content">
  <!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeKey - é«˜çº§å¯†ç ç”Ÿæˆå™¨</title>
    <style>
        :root {
            --primary-color: #0071e3;
            --secondary-color: #06c;
            --success-color: #34c759;
            --warning-color: #ff9500;
            --danger-color: #ff3b30;
            --text-color: #1d1d1f;
            --text-secondary: #86868b;
            --background-color: #ffffff;
            --card-background: #f5f5f7;
            --card-border: rgba(0, 0, 0, 0.1);
            --divider-color: rgba(0, 0, 0, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.05);
            --input-background: #ffffff;
            --input-border: rgba(0, 0, 0, 0.15);
            --header-height: 60px;
            --transition-speed: 0.3s;
            --border-radius: 12px;
            --small-radius: 8px;
        }

        [data-theme="dark"] {
            --primary-color: #0a84ff;
            --secondary-color: #5ac8fa;
            --success-color: #30d158;
            --warning-color: #ff9f0a;
            --danger-color: #ff453a;
            --text-color: #f5f5f7;
            --text-secondary: #98989d;
            --background-color: #1c1c1e;
            --card-background: #2c2c2e;
            --card-border: rgba(255, 255, 255, 0.1);
            --divider-color: rgba(255, 255, 255, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.3);
            --input-background: #3a3a3c;
            --input-border: rgba(255, 255, 255, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color var(--transition-speed), color var(--transition-speed);
            padding-top: calc(var(--header-height) + 20px);
            padding-bottom: 40px;
            min-height: 100vh;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background-color: var(--background-color);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--divider-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
            transition: background-color var(--transition-speed), border-bottom var(--transition-speed);
        }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo {
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: background var(--transition-speed);
        }

        .theme-switch {
            width: 50px;
            height: 28px;
            background-color: var(--card-background);
            border-radius: 14px;
            border: 1px solid var(--divider-color);
            position: relative;
            cursor: pointer;
            transition: background-color var(--transition-speed), border-color var(--transition-speed);
        }

        .theme-switch::before {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            border-radius: 11px;
            background-color: var(--background-color);
            box-shadow: 0 2px 4px var(--shadow-color);
            top: 2px;
            left: 2px;
            transition: transform var(--transition-speed), background-color var(--transition-speed);
        }

        .theme-switch.dark::before {
            transform: translateX(22px);
        }

        .theme-switch.dark {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section {
            margin-bottom: 30px;
        }

        .card {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: 0 8px 16px var(--shadow-color);
            padding: 20px;
            border: 1px solid var(--card-border);
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color var(--transition-speed), border-color var(--transition-speed);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px var(--shadow-color);
        }

        h1, h2, h3 {
            margin-bottom: 15px;
            font-weight: 600;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 22px;
            margin-bottom: 15px;
        }

        h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        p {
            margin-bottom: 15px;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .label-with-value {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 12px 15px;
            border-radius: var(--small-radius);
            border: 1px solid var(--input-border);
            background-color: var(--input-background);
            color: var(--text-color);
            font-size: 16px;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            appearance: none;
            -webkit-appearance: none;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);
        }

        .password-display {
            background-color: var(--input-background);
            border: 1px solid var(--input-border);
            border-radius: var(--small-radius);
            padding: 15px;
            font-family: monospace;
            font-size: 18px;
            margin-bottom: 15px;
            min-height: 55px;
            display: flex;
            align-items: center;
            position: relative;
            overflow-x: auto;
            overflow-y: hidden;
            white-space: nowrap;
            transition: border-color 0.2s ease, background-color var(--transition-speed);
            user-select: text;
        }

        .password-display::-webkit-scrollbar {
            height: 4px;
        }

        .password-display::-webkit-scrollbar-track {
            background: var(--card-background);
            border-radius: 2px;
        }

        .password-display::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 2px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 20px;
            border-radius: var(--small-radius);
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
            border: none;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s ease, transform 0.1s ease;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            background-color: var(--secondary-color);
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-icon {
            margin-right: 8px;
        }

        .btn-secondary {
            background-color: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-secondary:hover {
            background-color: rgba(10, 132, 255, 0.1);
        }

        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-btn {
            padding: 10px 15px;
            background-color: var(--card-background);
            border: 1px solid var(--input-border);
            border-radius: var(--small-radius);
            color: var(--text-color);
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
        }

        .toggle-btn.active {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .ripple {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            transform: scale(0);
            animation: ripple 0.6s linear;
        }

        @keyframes ripple {
            to {
                transform: scale(2.5);
                opacity: 0;
            }
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .slider {
            flex-grow: 1;
            height: 4px;
            background-color: var(--divider-color);
            border-radius: 2px;
            position: relative;
            cursor: pointer;
        }

        .slider-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 2px;
            pointer-events: none;
        }

        .slider-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--primary-color);
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            cursor: grab;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .slider-thumb:active {
            cursor: grabbing;
        }

        .slider-value {
            min-width: 40px;
            text-align: center;
            font-size: 16px;
            font-weight: 500;
        }

        .strength-meter {
            margin-top: 15px;
            height: 8px;
            background-color: var(--divider-color);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .strength-fill {
            height: 100%;
            width: 0;
            border-radius: 4px;
            transition: width 0.3s ease, background-color 0.3s ease;
        }

        .strength-text {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .checkbox-group {
            margin-bottom: 10px;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .checkbox-container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .checkmark {
            position: relative;
            height: 22px;
            width: 22px;
            background-color: var(--input-background);
            border: 1px solid var(--input-border);
            border-radius: 4px;
            margin-right: 10px;
            transition: background-color 0.2s, border-color 0.2s;
        }

        .checkbox-container:hover .checkmark {
            border-color: var(--primary-color);
        }

        .checkbox-container input:checked ~ .checkmark {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
            left: 7px;
            top: 3px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .checkbox-container input:checked ~ .checkmark:after {
            display: block;
        }

        .checkbox-label {
            flex-grow: 1;
        }

        .collapsible {
            overflow: hidden;
            max-height: 0;
            transition: max-height 0.3s ease;
        }

        .collapsible.expanded {
            max-height: 1000px;
        }

        .collapsible-header {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--divider-color);
            margin-bottom: 15px;
            transition: border-color var(--transition-speed);
        }

        .collapsible-icon {
            transition: transform 0.3s ease;
        }

        .expanded .collapsible-icon {
            transform: rotate(180deg);
        }

        .collapsible-content {
            padding-bottom: 15px;
        }

        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            margin-left: 8px;
        }

        .badge-success {
            background-color: var(--success-color);
            color: white;
        }

        .badge-warning {
            background-color: var(--warning-color);
            color: white;
        }

        .badge-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .copy-notification {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(-20px);
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border-radius: 40px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            font-weight: 500;
            pointer-events: none;
            opacity: 0;
            z-index: 1000;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .copy-notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .password-history {
            margin-top: 20px;
        }

        .history-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 15px;
            border-radius: var(--small-radius);
            border: 1px solid var(--divider-color);
        }

        .history-list::-webkit-scrollbar {
            width: 4px;
        }

        .history-list::-webkit-scrollbar-track {
            background: var(--card-background);
            border-radius: 2px;
        }

        .history-list::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 2px;
        }

        .history-item {
            padding: 12px 15px;
            border-bottom: 1px solid var(--divider-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s ease;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-item:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] .history-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .history-password {
            font-family: monospace;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 70%;
        }

        .history-actions {
            display: flex;
            gap: 10px;
        }

        .btn-icon-only {
            width: 36px;
            height: 36px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .copy-button {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--primary-color);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: none;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }

        .copy-button:hover {
            background-color: var(--secondary-color);
        }

        .copy-button:active {
            transform: translateY(-50%) scale(0.95);
        }

        .generate-animation {
            animation: generate 0.5s ease;
        }

        @keyframes generate {
            0% {
                opacity: 0.5;
                transform: scale(0.98);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .batch-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .password-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .preview-password {
            background-color: var(--card-background);
            border: 1px solid var(--divider-color);
            padding: 8px 12px;
            border-radius: var(--small-radius);
            font-family: monospace;
            font-size: 14px;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background-color: var(--card-background);
            color: var(--text-color);
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            transition: transform 0.3s ease, opacity 0.3s ease;
            opacity: 0;
            pointer-events: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast-icon {
            flex-shrink: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .toast-icon.success {
            background-color: var(--success-color);
            color: white;
        }

        .toast-icon.error {
            background-color: var(--danger-color);
            color: white;
        }

        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .two-columns {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 24px;
            }

            h2 {
                font-size: 20px;
            }

            .btn {
                width: 100%;
            }

            .btn-group .btn {
                flex: 1;
            }

            .header-logo .logo-text {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .batch-options {
                grid-template-columns: 1fr;
            }

            .slider-container {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .slider-value {
                align-self: flex-end;
            }
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(10, 132, 255, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(10, 132, 255, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(10, 132, 255, 0);
            }
        }

        .pulse {
            animation: pulse 1.5s infinite;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature-card {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid var(--card-border);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px var(--shadow-color);
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            color: white;
            font-size: 24px;
        }

        .feature-title {
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .feature-desc {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.5;
        }

        .about-section {
            text-align: center;
            max-width: 800px;
            margin: 40px auto 0;
            padding: 20px;
        }

        .about-section h2 {
            margin-bottom: 20px;
        }

        .about-section p {
            margin-bottom: 20px;
        }

        footer {
            margin-top: 40px;
            text-align: center;
            padding: 20px;
            color: var(--text-secondary);
            font-size: 14px;
            border-top: 1px solid var(--divider-color);
        }
    </style>
</head>
<body>
    <header>
        <div class="header-logo">
            <div class="logo">SafeKey</div>
            <span class="logo-text">é«˜çº§å¯†ç ç”Ÿæˆå™¨</span>
        </div>
        <div class="theme-switch" id="themeSwitch"></div>
    </header>

    <div class="container">
        <section class="section">
            <h1>ç”Ÿæˆå®‰å…¨ã€å¯å®šåˆ¶çš„éšæœºå¯†ç </h1>
            <div class="card">
                <div class="password-display" id="passwordDisplay">
                    ç‚¹å‡»ç”ŸæˆæŒ‰é’®åˆ›å»ºæ‚¨çš„å¯†ç 
                </div>
                <button class="copy-button" id="copyButton">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                </button>

                <div class="strength-meter">
                    <div class="strength-fill" id="strengthFill"></div>
                </div>
                <div class="strength-text" id="strengthText">å¯†ç å¼ºåº¦: æœªç”Ÿæˆ</div>

                <div class="btn-group">
                    <button class="toggle-btn active" data-preset="strong">å¼ºå¯†ç </button>
                    <button class="toggle-btn" data-preset="memorable">æ˜“è®°å¯†ç </button>
                    <button class="toggle-btn" data-preset="pin">PINç </button>
                    <button class="toggle-btn" data-preset="words">å•è¯å¯†ç </button>
                </div>

                <div class="input-group">
                    <div class="label-with-value">
                        <label for="lengthSlider">å¯†ç é•¿åº¦</label>
                        <span id="lengthValue" class="slider-value">20</span>
                    </div>
                    <div class="slider-container">
                        <div class="slider" id="lengthSlider">
                            <div class="slider-fill" id="lengthFill" style="width: 14%;"></div>
                            <div class="slider-thumb" id="lengthThumb"></div>
                        </div>
                    </div>
                </div>

                <div class="checkbox-group">
                    <label class="checkbox-container">
                        <input type="checkbox" id="uppercaseCheck" checked>
                        <span class="checkmark"></span>
                        <span class="checkbox-label">åŒ…å«å¤§å†™å­—æ¯ (A-Z)</span>
                    </label>
                    <label class="checkbox-container">
                        <input type="checkbox" id="lowercaseCheck" checked>
                        <span class="checkmark"></span>
                        <span class="checkbox-label">åŒ…å«å°å†™å­—æ¯ (a-z)</span>
                    </label>
                    <label class="checkbox-container">
                        <input type="checkbox" id="numbersCheck" checked>
                        <span class="checkmark"></span>
                        <span class="checkbox-label">åŒ…å«æ•°å­— (0-9)</span>
                    </label>
                    <label class="checkbox-container">
                        <input type="checkbox" id="symbolsCheck" checked>
                        <span class="checkmark"></span>
                        <span class="checkbox-label">åŒ…å«ç‰¹æ®Šç¬¦å· (!@#$%^&*)</span>
                    </label>
                </div>

                <div class="collapsible-header" id="advancedToggle">
                    <h3>é«˜çº§é€‰é¡¹</h3>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="collapsible-icon">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>

                <div class="collapsible" id="advancedOptions">
                    <div class="collapsible-content">
                        <div class="checkbox-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="excludeSimilarCheck">
                                <span class="checkmark"></span>
                                <span class="checkbox-label">æ’é™¤ç›¸ä¼¼å­—ç¬¦ (i, l, 1, L, o, 0, O)</span>
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" id="excludeDuplicatesCheck">
                                <span class="checkmark"></span>
                                <span class="checkbox-label">æ’é™¤é‡å¤å­—ç¬¦</span>
                            </label>
                        </div>

                        <div class="input-group">
                            <label for="excludeChars">æ’é™¤ç‰¹å®šå­—ç¬¦</label>
                            <input type="text" id="excludeChars" placeholder="ä¾‹å¦‚: {}[]()/'`~,;:.<>">
                        </div>

                        <div class="two-columns">
                            <div class="input-group">
                                <label for="minNumbers">æœ€å°‘æ•°å­—æ•°é‡</label>
                                <input type="number" id="minNumbers" min="0" value="1">
                            </div>
                            <div class="input-group">
                                <label for="minSymbols">æœ€å°‘ç‰¹æ®Šç¬¦å·æ•°é‡</label>
                                <input type="number" id="minSymbols" min="0" value="1">
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="separator">åˆ†éš”ç¬¦ï¼ˆæ¯éš”Nä¸ªå­—ç¬¦ï¼‰</label>
                            <div class="two-columns">
                                <input type="text" id="separator" placeholder="ä¾‹å¦‚: - æˆ– .">
                                <input type="number" id="separatorInterval" min="0" value="0" placeholder="0è¡¨ç¤ºä¸ä½¿ç”¨">
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="customRegex">è‡ªå®šä¹‰æ­£åˆ™åŒ¹é…æ¨¡å¼</label>
                            <input type="text" id="customRegex" placeholder="ä¾‹å¦‚: [a-zA-Z0-9]{8,12}">
                        </div>
                    </div>
                </div>

                <div class="collapsible-header" id="batchToggle">
                    <h3>æ‰¹é‡ç”Ÿæˆ</h3>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="collapsible-icon">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>

                <div class="collapsible" id="batchOptions">
                    <div class="collapsible-content">
                        <div class="batch-options">
                            <div class="input-group">
                                <label for="batchCount">å¯†ç æ•°é‡</label>
                                <input type="number" id="batchCount" min="2" max="100000" value="5">
                            </div>
                            <div class="input-group">
                                <label for="batchFormat">å¯¼å‡ºæ ¼å¼</label>
                                <select id="batchFormat">
                                    <option value="txt">æ–‡æœ¬æ–‡ä»¶ (.txt)</option>
                                    <option value="csv">CSVæ–‡ä»¶ (.csv)</option>
                                    <option value="json">JSONæ–‡ä»¶ (.json)</option>
                                </select>
                            </div>
                        </div>
                        <div class="password-preview" id="passwordPreview"></div>
                        <div class="btn-group">
                            <button class="btn" id="batchGenerateBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon">
                                    <polyline points="8 17 12 21 16 17"></polyline>
                                    <line x1="12" y1="12" x2="12" y2="21"></line>
                                    <path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>
                                </svg>
                                æ‰¹é‡ç”Ÿæˆ
                            </button>
                            <button class="btn btn-secondary" id="batchExportBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                å¯¼å‡ºå¯†ç 
                            </button>
                        </div>
                    </div>
                </div>

                <div class="collapsible-header" id="historyToggle">
                    <h3>å†å²è®°å½•</h3>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="collapsible-icon">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>

                <div class="collapsible" id="historyOptions">
                    <div class="collapsible-content">
                        <div class="history-list" id="historyList">
                            <div class="history-item">
                                <span class="history-password">è¿˜æ²¡æœ‰å¯†ç è®°å½•</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary" id="clearHistoryBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            </svg>
                            æ¸…ç©ºå†å²è®°å½•
                        </button>
                    </div>
                </div>

                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn pulse" id="generateBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon">
                            <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path>
                            <line x1="16" y1="8" x2="2" y2="22"></line>
                            <line x1="17.5" y1="15" x2="9" y2="15"></line>
                        </svg>
                        ç”Ÿæˆå¯†ç 
                    </button>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>ç‰¹è‰²åŠŸèƒ½</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”’</div>
                    <div class="feature-title">å¤šç§å¯†ç ç±»å‹</div>
                    <div class="feature-desc">ä»å¼ºå¯†ç åˆ°æ˜“è®°å¯†ç ï¼Œä»PINç åˆ°å•è¯å¯†ç ï¼Œæ»¡è¶³å„ç§å®‰å…¨åœºæ™¯éœ€æ±‚ã€‚</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">âš™ï¸</div>
                    <div class="feature-title">å®Œå…¨å¯å®šåˆ¶</div>
                    <div class="feature-desc">ç²¾ç¡®æ§åˆ¶å¯†ç é•¿åº¦ã€å­—ç¬¦ç±»å‹ã€æ’é™¤è§„åˆ™ï¼Œæ»¡è¶³ç‰¹å®šå¹³å°çš„å¯†ç è¦æ±‚ã€‚</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“Š</div>
                    <div class="feature-title">å¯†ç å¼ºåº¦åˆ†æ</div>
                    <div class="feature-desc">å®æ—¶è¯„ä¼°å¯†ç å®‰å…¨å¼ºåº¦ï¼Œç¡®ä¿æ‚¨çš„å¯†ç èƒ½å¤Ÿæœ‰æ•ˆæŠµå¾¡å„ç§æ”»å‡»ã€‚</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”„</div>
                    <div class="feature-title">æ‰¹é‡ç”Ÿæˆ</div>
                    <div class="feature-desc">ä¸€æ¬¡ç”Ÿæˆå¤šè¾¾100000ä¸ªå¯†ç ï¼Œå¹¶æ”¯æŒå¤šç§æ ¼å¼å¯¼å‡ºï¼Œæ–¹ä¾¿æ‰¹é‡éƒ¨ç½²ã€‚</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“±</div>
                    <div class="feature-title">å“åº”å¼è®¾è®¡</div>
                    <div class="feature-desc">å®Œç¾é€‚é…ä»æ‰‹æœºåˆ°æ¡Œé¢çš„å„ç§è®¾å¤‡ï¼Œéšæ—¶éšåœ°ç”Ÿæˆå®‰å…¨å¯†ç ã€‚</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸŒ™</div>
                    <div class="feature-title">æš—é»‘æ¨¡å¼</div>
                    <div class="feature-desc">æ”¯æŒæ˜æš—ä¸¤ç§ä¸»é¢˜ï¼Œä¿æŠ¤æ‚¨çš„çœ¼ç›ï¼Œæä¾›èˆ’é€‚çš„ä½¿ç”¨ä½“éªŒã€‚</div>
                </div>
            </div>
        </section>

        <section class="about-section">
            <h2>å…³äº SafeKey å¯†ç ç”Ÿæˆå™¨</h2>
            <p>SafeKey æ˜¯ä¸€æ¬¾ä¸“ä¸šçš„å¯†ç ç”Ÿæˆå·¥å…·ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·åˆ›å»ºé«˜å¼ºåº¦ã€å®‰å…¨å¯é çš„å¯†ç ã€‚åœ¨å½“ä»Šæ•°å­—ä¸–ç•Œï¼Œä¸€ä¸ªå¼ºå¤§çš„å¯†ç æ˜¯ä¿æŠ¤æ‚¨ä¸ªäººä¿¡æ¯å’Œåœ¨çº¿è´¦æˆ·å®‰å…¨çš„ç¬¬ä¸€é“é˜²çº¿ã€‚</p>
            <p>ä½¿ç”¨ SafeKeyï¼Œæ‚¨å¯ä»¥å®Œå…¨æŒæ§å¯†ç ç”Ÿæˆè¿‡ç¨‹ï¼Œä»é•¿åº¦åˆ°å­—ç¬¦ç±»å‹ï¼Œä»æ’é™¤è§„åˆ™åˆ°ç‰¹æ®Šè¦æ±‚ï¼Œä¸€åˆ‡å°½åœ¨æ‚¨çš„æ§åˆ¶ä¹‹ä¸­ã€‚æˆ‘ä»¬é‡‡ç”¨çœŸéšæœºæ€§ç®—æ³•ï¼Œç¡®ä¿ç”Ÿæˆçš„å¯†ç å…·æœ‰æœ€é«˜çš„å®‰å…¨æ€§å’Œä¸å¯é¢„æµ‹æ€§ã€‚</p>
            <p>æ‚¨çš„éšç§å¯¹æˆ‘ä»¬è‡³å…³é‡è¦ - æ‰€æœ‰å¯†ç ç”Ÿæˆå’Œå¤„ç†éƒ½åœ¨æ‚¨çš„æœ¬åœ°è®¾å¤‡ä¸Šå®Œæˆï¼Œæ²¡æœ‰ä»»ä½•æ•°æ®ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨ã€‚</p>
        </section>

        <footer>
            &copy; 2025 SafeKey å¯†ç ç”Ÿæˆå™¨ | æ‰€æœ‰å¯†ç ç”Ÿæˆå‡åœ¨æœ¬åœ°å®Œæˆï¼Œä¿éšœæ‚¨çš„éšç§å®‰å…¨
        </footer>
    </div>

    <div class="copy-notification" id="copyNotification">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>
    <div class="toast" id="toast">
        <div class="toast-icon success">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        </div>
        <div class="toast-message"></div>
    </div>

    <script>
        // DOM å…ƒç´ 
        const themeSwitch = document.getElementById('themeSwitch');
        const passwordDisplay = document.getElementById('passwordDisplay');
        const copyButton = document.getElementById('copyButton');
        const strengthFill = document.getElementById('strengthFill');
        const strengthText = document.getElementById('strengthText');
        const generateBtn = document.getElementById('generateBtn');
        const copyNotification = document.getElementById('copyNotification');
        const lengthSlider = document.getElementById('lengthSlider');
        const lengthThumb = document.getElementById('lengthThumb');
        const lengthFill = document.getElementById('lengthFill');
        const lengthValue = document.getElementById('lengthValue');
        const presetButtons = document.querySelectorAll('.toggle-btn');
        const advancedToggle = document.getElementById('advancedToggle');
        const advancedOptions = document.getElementById('advancedOptions');
        const batchToggle = document.getElementById('batchToggle');
        const batchOptions = document.getElementById('batchOptions');
        const historyToggle = document.getElementById('historyToggle');
        const historyOptions = document.getElementById('historyOptions');
        const uppercaseCheck = document.getElementById('uppercaseCheck');
        const lowercaseCheck = document.getElementById('lowercaseCheck');
        const numbersCheck = document.getElementById('numbersCheck');
        const symbolsCheck = document.getElementById('symbolsCheck');
        const excludeSimilarCheck = document.getElementById('excludeSimilarCheck');
        const excludeDuplicatesCheck = document.getElementById('excludeDuplicatesCheck');
        const excludeChars = document.getElementById('excludeChars');
        const minNumbers = document.getElementById('minNumbers');
        const minSymbols = document.getElementById('minSymbols');
        const separator = document.getElementById('separator');
        const separatorInterval = document.getElementById('separatorInterval');
        const customRegex = document.getElementById('customRegex');
        const batchCount = document.getElementById('batchCount');
        const batchFormat = document.getElementById('batchFormat');
        const batchGenerateBtn = document.getElementById('batchGenerateBtn');
        const batchExportBtn = document.getElementById('batchExportBtn');
        const passwordPreview = document.getElementById('passwordPreview');
        const historyList = document.getElementById('historyList');
        const clearHistoryBtn = document.getElementById('clearHistoryBtn');
        const toast = document.getElementById('toast');

        // é…ç½®å’ŒçŠ¶æ€
        const config = {
            length: 20,
            uppercase: true,
            lowercase: true,
            numbers: true,
            symbols: true,
            excludeSimilar: false,
            excludeDuplicates: false,
            excludeChars: '',
            minNumbers: 1,
            minSymbols: 1,
            separator: '',
            separatorInterval: 0,
            customRegex: '',
            preset: 'strong'
        };

        let passwordHistory = [];
        let batchPasswords = [];
        let isDragging = false;

        // å¸¸é‡
        const MIN_LENGTH = 6;
        const MAX_LENGTH = 256;
        const UPPERCASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const LOWERCASE_CHARS = 'abcdefghijklmnopqrstuvwxyz';
        const NUMBER_CHARS = '0123456789';
        const SYMBOL_CHARS = '!@#$%^&*()_+-=[]{}|;:,.<>?';
        const SIMILAR_CHARS = 'iIlL1oO0';
        const MEMORABLE_WORDS = ['apple', 'banana', 'cherry', 'date', 'elder', 'fig', 'grape', 'honey', 'kiwi', 'lemon', 'mango', 'nut', 'olive', 'pear', 'quince', 'rose', 'sugar', 'tea', 'violet', 'water', 'xenia', 'yam', 'zinc'];
        const HISTORY_MAX_LENGTH = 50;

        // ç”¨äºå¯†ç ç”Ÿæˆçš„å‡½æ•°
        function getRandomInt(min, max) {
            const randomBuffer = new Uint32Array(1);
            window.crypto.getRandomValues(randomBuffer);
            const randomNumber = randomBuffer[0] / (0xffffffff + 1);
            return Math.floor(randomNumber * (max - min + 1)) + min;
        }

        function getRandomChar(charSet, exclude = '') {
            let availableChars = charSet;
            
            if (config.excludeSimilar) {
                availableChars = availableChars.split('').filter(char => !SIMILAR_CHARS.includes(char)).join('');
            }
            
            if (exclude) {
                availableChars = availableChars.split('').filter(char => !exclude.includes(char)).join('');
            }
            
            if (config.excludeChars) {
                availableChars = availableChars.split('').filter(char => !config.excludeChars.includes(char)).join('');
            }
            
            if (availableChars.length === 0) {
                return '';
            }
            
            const randomIndex = getRandomInt(0, availableChars.length - 1);
            return availableChars[randomIndex];
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = getRandomInt(0, i);
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function generatePassword() {
            let charPool = '';
            let password = '';
            let usedChars = '';
            
            // ç”Ÿæˆå­—ç¬¦æ± 
            if (config.uppercase) charPool += UPPERCASE_CHARS;
            if (config.lowercase) charPool += LOWERCASE_CHARS;
            if (config.numbers) charPool += NUMBER_CHARS;
            if (config.symbols) charPool += SYMBOL_CHARS;
            
            // å¦‚æœæ²¡æœ‰é€‰ä¸­ä»»ä½•å­—ç¬¦ç±»å‹ï¼Œé»˜è®¤ä½¿ç”¨å°å†™å­—æ¯
            if (charPool === '') {
                charPool = LOWERCASE_CHARS;
                config.lowercase = true;
            }
            
            // å¤„ç†ä¸åŒçš„é¢„è®¾
            if (config.preset === 'pin') {
                charPool = NUMBER_CHARS;
                config.numbers = true;
                config.uppercase = config.lowercase = config.symbols = false;
            } else if (config.preset === 'memorable') {
                // ç”Ÿæˆæ˜“è®°å¯†ç 
                return generateMemorablePassword();
            } else if (config.preset === 'words') {
                // ç”Ÿæˆå•è¯å¯†ç 
                return generateWordPassword();
            }
            
            // å¦‚æœè®¾ç½®äº†è‡ªå®šä¹‰æ­£åˆ™ï¼Œå°è¯•ä½¿ç”¨å®ƒç”Ÿæˆå¯†ç 
            if (config.customRegex) {
                try {
                    return generateRegexPassword(config.customRegex);
                } catch (error) {
                    showToast('æ­£åˆ™è¡¨è¾¾å¼æ— æ•ˆï¼Œä½¿ç”¨é»˜è®¤æ–¹å¼ç”Ÿæˆ', 'error');
                }
            }
            
            // ç¡®ä¿å¯†ç æ»¡è¶³æœ€å°è¦æ±‚
            let requiredChars = [];
            
            // æ·»åŠ å¿…éœ€çš„æ•°å­—
            for (let i = 0; i < config.minNumbers; i++) {
                if (config.numbers) {
                    const randomNum = getRandomChar(NUMBER_CHARS, usedChars);
                    if (randomNum && (!config.excludeDuplicates || !usedChars.includes(randomNum))) {
                        requiredChars.push(randomNum);
                        if (config.excludeDuplicates) usedChars += randomNum;
                    }
                }
            }
            
            // æ·»åŠ å¿…éœ€çš„ç¬¦å·
            for (let i = 0; i < config.minSymbols; i++) {
                if (config.symbols) {
                    const randomSymbol = getRandomChar(SYMBOL_CHARS, usedChars);
                    if (randomSymbol && (!config.excludeDuplicates || !usedChars.includes(randomSymbol))) {
                        requiredChars.push(randomSymbol);
                        if (config.excludeDuplicates) usedChars += randomSymbol;
                    }
                }
            }
            
            // ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ªå¤§å†™å­—æ¯å’Œä¸€ä¸ªå°å†™å­—æ¯
            if (config.uppercase) {
                const randomUpper = getRandomChar(UPPERCASE_CHARS, usedChars);
                if (randomUpper && (!config.excludeDuplicates || !usedChars.includes(randomUpper))) {
                    requiredChars.push(randomUpper);
                    if (config.excludeDuplicates) usedChars += randomUpper;
                }
            }
            
            if (config.lowercase) {
                const randomLower = getRandomChar(LOWERCASE_CHARS, usedChars);
                if (randomLower && (!config.excludeDuplicates || !usedChars.includes(randomLower))) {
                    requiredChars.push(randomLower);
                    if (config.excludeDuplicates) usedChars += randomLower;
                }
            }
            
            // å¡«å……å‰©ä½™é•¿åº¦
            const remainingLength = config.length - requiredChars.length;
            
            for (let i = 0; i < remainingLength; i++) {
                const randomChar = getRandomChar(charPool, usedChars);
                if (randomChar && (!config.excludeDuplicates || !usedChars.includes(randomChar))) {
                    requiredChars.push(randomChar);
                    if (config.excludeDuplicates) usedChars += randomChar;
                } else if (config.excludeDuplicates && usedChars.length >= charPool.length) {
                    // å¦‚æœå·²ç»ç”¨å®Œäº†æ‰€æœ‰ä¸é‡å¤å­—ç¬¦ï¼Œå°±è·³å‡ºå¾ªç¯
                    break;
                }
            }
            
            // éšæœºæ‰“ä¹±æ‰€æœ‰å­—ç¬¦
            shuffleArray(requiredChars);
            password = requiredChars.join('');
            
            // æ·»åŠ åˆ†éš”ç¬¦
            if (config.separator && config.separatorInterval > 0) {
                let result = '';
                for (let i = 0; i < password.length; i++) {
                    result += password[i];
                    if ((i + 1) % config.separatorInterval === 0 && i !== password.length - 1) {
                        result += config.separator;
                    }
                }
                password = result;
            }
            
            return password;
        }

        function generateMemorablePassword() {
            const randomWords = [];
            const wordCount = Math.max(2, Math.min(5, Math.ceil(config.length / 5)));
            
            for (let i = 0; i < wordCount; i++) {
                const randomIndex = getRandomInt(0, MEMORABLE_WORDS.length - 1);
                let word = MEMORABLE_WORDS[randomIndex];
                
                // éšæœºé¦–å­—æ¯å¤§å†™
                if (config.uppercase && getRandomInt(0, 1) === 1) {
                    word = word.charAt(0).toUpperCase() + word.slice(1);
                }
                
                randomWords.push(word);
            }
            
            // æ·»åŠ æ•°å­—
            if (config.numbers) {
                randomWords.push(getRandomInt(10, 9999).toString());
            }
            
            // æ·»åŠ ç¬¦å·
            if (config.symbols) {
                const randomSymbol = getRandomChar(SYMBOL_CHARS);
                randomWords.push(randomSymbol);
            }
            
            // æ‰“ä¹±å•è¯é¡ºåº
            shuffleArray(randomWords);
            
            // ä½¿ç”¨åˆ†éš”ç¬¦æˆ–ç›´æ¥è¿æ¥
            let password = '';
            if (config.separator) {
                password = randomWords.join(config.separator);
            } else {
                password = randomWords.join('');
            }
            
            // æˆªæ–­åˆ°æŒ‡å®šé•¿åº¦
            return password.substring(0, config.length);
        }

        function generateWordPassword() {
            // ä»å­—å…¸ä¸­éšæœºé€‰æ‹©å•è¯
            const randomIndex = getRandomInt(0, MEMORABLE_WORDS.length - 1);
            let baseWord = MEMORABLE_WORDS[randomIndex];
            
            // æ ¹æ®è®¾ç½®è°ƒæ•´å•è¯
            if (config.uppercase) {
                baseWord = baseWord.toUpperCase();
            } else if (config.lowercase) {
                baseWord = baseWord.toLowerCase();
            }
            
            // æ·»åŠ æ•°å­—å’Œç¬¦å·
            let extras = '';
            if (config.numbers) {
                for (let i = 0; i < config.minNumbers; i++) {
                    extras += NUMBER_CHARS[getRandomInt(0, NUMBER_CHARS.length - 1)];
                }
            }
            
            if (config.symbols) {
                for (let i = 0; i < config.minSymbols; i++) {
                    extras += SYMBOL_CHARS[getRandomInt(0, SYMBOL_CHARS.length - 1)];
                }
            }
            
            // éšæœºæ‰“ä¹±é™„åŠ å­—ç¬¦
            extras = shuffleArray(extras.split('')).join('');
            
            // ç»„åˆå¯†ç 
            let password = baseWord + extras;
            
            // å¦‚æœé•¿åº¦ä¸å¤Ÿï¼Œé‡å¤å•è¯
            while (password.length < config.length) {
                const nextWord = MEMORABLE_WORDS[getRandomInt(0, MEMORABLE_WORDS.length - 1)];
                password += (config.separator || '') + nextWord;
            }
            
            // æˆªæ–­åˆ°æŒ‡å®šé•¿åº¦
            return password.substring(0, config.length);
        }

        function generateRegexPassword(regex) {
            // ç®€å•å®ç°: å¯¹äºå¸¸è§çš„å­—ç¬¦ç±»æ¨¡å¼å°è¯•ç”ŸæˆåŒ¹é…çš„å­—ç¬¦ä¸²
            try {
                const regexObj = new RegExp(regex);
                let attempt = '';
                let maxAttempts = 100;
                
                // å°è¯•é€šè¿‡å¸¸è§„å­—ç¬¦ç”Ÿæˆ
                while (maxAttempts > 0) {
                    attempt = '';
                    const targetLength = config.length;
                    
                    for (let i = 0; i < targetLength; i++) {
                        let charPool = '';
                        if (config.uppercase) charPool += UPPERCASE_CHARS;
                        if (config.lowercase) charPool += LOWERCASE_CHARS;
                        if (config.numbers) charPool += NUMBER_CHARS;
                        if (config.symbols) charPool += SYMBOL_CHARS;
                        
                        const randomIndex = getRandomInt(0, charPool.length - 1);
                        attempt += charPool[randomIndex];
                    }
                    
                    if (regexObj.test(attempt)) {
                        return attempt;
                    }
                    
                    maxAttempts--;
                }
                
                throw new Error("æ— æ³•ç”ŸæˆåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å¯†ç ");
            } catch (error) {
                throw new Error("æ­£åˆ™è¡¨è¾¾å¼æ— æ•ˆ");
            }
        }

        // å¯†ç å¼ºåº¦è¯„ä¼°
        function calculatePasswordStrength(password) {
            if (!password) return 0;
            
            // åŸºæœ¬åˆ†æ•°
            let score = 0;
            
            // é•¿åº¦è¯„åˆ† (æœ€é«˜30åˆ†)
            score += Math.min(30, password.length * 2);
            
            // å­—ç¬¦å¤šæ ·æ€§ (æœ€é«˜40åˆ†)
            const hasUpper = /[A-Z]/.test(password);
            const hasLower = /[a-z]/.test(password);
            const hasNumber = /[0-9]/.test(password);
            const hasSymbol = /[^A-Za-z0-9]/.test(password);
            
            const diversityScore = (hasUpper ? 10 : 0) + 
                                (hasLower ? 10 : 0) + 
                                (hasNumber ? 10 : 0) + 
                                (hasSymbol ? 10 : 0);
            score += diversityScore;
            
            // å¤æ‚æ€§è¯„åˆ† (æœ€é«˜30åˆ†)
            const uniqueChars = new Set(password).size;
            const uniqueRatio = uniqueChars / password.length;
            score += Math.round(uniqueRatio * 15);
            
            // åºåˆ—å’Œé‡å¤æ£€æµ‹ (æœ€é«˜å‡20åˆ†)
            let penaltyScore = 0;
            
            // æ£€æµ‹è¿ç»­å­—ç¬¦ (å¦‚ "abc", "123")
            for (let i = 0; i < password.length - 2; i++) {
                const char1 = password.charCodeAt(i);
                const char2 = password.charCodeAt(i + 1);
                const char3 = password.charCodeAt(i + 2);
                
                if (char1 + 1 === char2 && char2 + 1 === char3) {
                    penaltyScore += 5;
                }
            }
            
            // æ£€æµ‹é‡å¤å­—ç¬¦
            for (let i = 0; i < password.length - 2; i++) {
                if (password[i] === password[i + 1] && password[i] === password[i + 2]) {
                    penaltyScore += 5;
                }
            }
            
            // æ£€æµ‹é”®ç›˜ç›¸é‚»å­—ç¬¦
            const keyboardSequences = [
                'qwertyuiop', 'asdfghjkl', 'zxcvbnm',
                'QWERTYUIOP', 'ASDFGHJKL', 'ZXCVBNM',
                '1234567890'
            ];
            
            for (const sequence of keyboardSequences) {
                for (let i = 0; i < sequence.length - 2; i++) {
                    const pattern = sequence.substring(i, i + 3);
                    if (password.includes(pattern)) {
                        penaltyScore += 5;
                    }
                }
            }
            
            score = Math.max(0, score - Math.min(20, penaltyScore));
            
            // æ€»åˆ†ä¸º100åˆ†
            return Math.min(100, score);
        }

        function getStrengthLabel(score) {
            if (score >= 90) return { text: 'éå¸¸å¼º', color: '#34c759', label: 'æé«˜å®‰å…¨æ€§' };
            if (score >= 70) return { text: 'å¼º', color: '#5ac8fa', label: 'é«˜å®‰å…¨æ€§' };
            if (score >= 50) return { text: 'ä¸­ç­‰', color: '#ffcc00', label: 'åŸºæœ¬å®‰å…¨' };
            if (score >= 30) return { text: 'å¼±', color: '#ff9500', label: 'ä¸å¤Ÿå®‰å…¨' };
            return { text: 'éå¸¸å¼±', color: '#ff3b30', label: 'æä¸å®‰å…¨' };
        }

        function updateStrengthIndicator(password) {
            const score = calculatePasswordStrength(password);
            const strength = getStrengthLabel(score);
            
            strengthFill.style.width = `${score}%`;
            strengthFill.style.backgroundColor = strength.color;
            strengthText.innerHTML = `å¯†ç å¼ºåº¦: <strong>${strength.text}</strong> <span class="badge" style="background-color: ${strength.color}">${strength.label}</span>`;
        }

        // UIäº¤äº’å‡½æ•°
        function showCopyNotification() {
            copyNotification.classList.add('show');
            setTimeout(() => {
                copyNotification.classList.remove('show');
            }, 2000);
        }

        function showToast(message, type = 'success') {
            const toastMessage = toast.querySelector('.toast-message');
            const toastIcon = toast.querySelector('.toast-icon');
            
            toastMessage.textContent = message;
            
            toastIcon.className = `toast-icon ${type}`;
            if (type === 'error') {
                toastIcon.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                `;
            } else {
                toastIcon.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                `;
            }
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function createRipple(event, element) {
            const circle = document.createElement('span');
            const diameter = Math.max(element.clientWidth, element.clientHeight);
            const radius = diameter / 2;
            
            circle.style.width = circle.style.height = `${diameter}px`;
            circle.style.left = `${event.clientX - element.getBoundingClientRect().left - radius}px`;
            circle.style.top = `${event.clientY - element.getBoundingClientRect().top - radius}px`;
            circle.classList.add('ripple');
            
            const ripple = element.getElementsByClassName('ripple')[0];
            
            if (ripple) {
                ripple.remove();
            }
            
            element.appendChild(circle);
        }

        // æ›´æ–°å¯†ç å†å²è®°å½•
        function addToHistory(password) {
            if (!password) return;
            
            // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒå¯†ç 
            if (passwordHistory.includes(password)) {
                const index = passwordHistory.indexOf(password);
                passwordHistory.splice(index, 1);
            }
            
            // æ·»åŠ åˆ°å†å²è®°å½•å¼€å¤´
            passwordHistory.unshift(password);
            
            // é™åˆ¶å†å²è®°å½•é•¿åº¦
            if (passwordHistory.length > HISTORY_MAX_LENGTH) {
                passwordHistory.pop();
            }
            
            // æ›´æ–°UI
            updateHistoryList();
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveToLocalStorage();
        }

        function updateHistoryList() {
            historyList.innerHTML = '';
            
            if (passwordHistory.length === 0) {
                historyList.innerHTML = `
                    <div class="history-item">
                        <span class="history-password">è¿˜æ²¡æœ‰å¯†ç è®°å½•</span>
                    </div>
                `;
                return;
            }
            
            passwordHistory.forEach(password => {
                const item = document.createElement('div');
                item.className = 'history-item';
                
                const passwordSpan = document.createElement('span');
                passwordSpan.className = 'history-password';
                passwordSpan.textContent = password;
                
                const actions = document.createElement('div');
                actions.className = 'history-actions';
                
                const copyBtn = document.createElement('button');
                copyBtn.className = 'btn-icon-only';
                copyBtn.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                `;
                copyBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    copyToClipboard(password);
                    createRipple(e, copyBtn);
                });
                
                const useBtn = document.createElement('button');
                useBtn.className = 'btn-icon-only';
                useBtn.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 11 12 14 22 4"></polyline>
                        <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                    </svg>
                `;
                useBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    passwordDisplay.textContent = password;
                    updateStrengthIndicator(password);
                    createRipple(e, useBtn);
                    passwordDisplay.classList.add('generate-animation');
                    setTimeout(() => {
                        passwordDisplay.classList.remove('generate-animation');
                    }, 500);
                });
                
                actions.appendChild(useBtn);
                actions.appendChild(copyBtn);
                
                item.appendChild(passwordSpan);
                item.appendChild(actions);
                
                historyList.appendChild(item);
            });
        }

        // æœ¬åœ°å­˜å‚¨
        function saveToLocalStorage() {
            try {
                localStorage.setItem('passwordHistory', JSON.stringify(passwordHistory));
                localStorage.setItem('passwordConfig', JSON.stringify(config));
                localStorage.setItem('theme', document.body.getAttribute('data-theme') || 'light');
            } catch (error) {
                console.error('ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨æ—¶å‡ºé”™', error);
            }
        }

        function loadFromLocalStorage() {
            try {
                // åŠ è½½å†å²è®°å½•
                const savedHistory = localStorage.getItem('passwordHistory');
                if (savedHistory) {
                    passwordHistory = JSON.parse(savedHistory);
                    updateHistoryList();
                }
                
                // åŠ è½½é…ç½®
                const savedConfig = localStorage.getItem('passwordConfig');
                if (savedConfig) {
                    const parsedConfig = JSON.parse(savedConfig);
                    Object.assign(config, parsedConfig);
                    updateConfigUI();
                }
                
                // åŠ è½½ä¸»é¢˜
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'dark') {
                    document.body.setAttribute('data-theme', 'dark');
                    themeSwitch.classList.add('dark');
                }
            } catch (error) {
                console.error('ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ—¶å‡ºé”™', error);
            }
        }

        function updateConfigUI() {
            // æ›´æ–°é•¿åº¦æ»‘å—
            lengthValue.textContent = config.length;
            const percentage = ((config.length - MIN_LENGTH) / (MAX_LENGTH - MIN_LENGTH)) * 100;
            lengthFill.style.width = `${percentage}%`;
            lengthThumb.style.left = `${percentage}%`;
            
            // æ›´æ–°å¤é€‰æ¡†
            uppercaseCheck.checked = config.uppercase;
            lowercaseCheck.checked = config.lowercase;
            numbersCheck.checked = config.numbers;
            symbolsCheck.checked = config.symbols;
            excludeSimilarCheck.checked = config.excludeSimilar;
            excludeDuplicatesCheck.checked = config.excludeDuplicates;
            
            // æ›´æ–°è¾“å…¥å­—æ®µ
            excludeChars.value = config.excludeChars;
            minNumbers.value = config.minNumbers;
            minSymbols.value = config.minSymbols;
            separator.value = config.separator;
            separatorInterval.value = config.separatorInterval;
            customRegex.value = config.customRegex;
            
            // æ›´æ–°é¢„è®¾æŒ‰é’®
            presetButtons.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.preset === config.preset);
            });
        }

        // æ‰¹é‡ç”Ÿæˆå’Œå¯¼å‡º
        function generateBatchPasswords() {
            const count = parseInt(batchCount.value) || 5;
            const limitedCount = Math.min(100000, Math.max(1, count));
            
            if (count !== limitedCount) {
                batchCount.value = limitedCount;
            }
            
            batchPasswords = [];
            passwordPreview.innerHTML = '';
            
            // æ˜¾ç¤ºæœ€å¤š10ä¸ªé¢„è§ˆ
            const previewCount = Math.min(10, limitedCount);
            
            for (let i = 0; i < limitedCount; i++) {
                const password = generatePassword();
                batchPasswords.push(password);
                
                // åˆ›å»ºé¢„è§ˆå…ƒç´ 
                if (i < previewCount) {
                    const preview = document.createElement('div');
                    preview.className = 'preview-password';
                    preview.textContent = password;
                    passwordPreview.appendChild(preview);
                }
            }
            
            if (limitedCount > previewCount) {
                const moreIndicator = document.createElement('div');
                moreIndicator.className = 'preview-password';
                moreIndicator.textContent = `...è¿˜æœ‰ ${limitedCount - previewCount} ä¸ªå¯†ç `;
                passwordPreview.appendChild(moreIndicator);
            }
            
            showToast(`æˆåŠŸç”Ÿæˆ ${limitedCount} ä¸ªå¯†ç `);
        }

        function exportBatchPasswords() {
            if (!batchPasswords.length) {
                showToast('æ²¡æœ‰å¯å¯¼å‡ºçš„å¯†ç ', 'error');
                return;
            }
            
            const format = batchFormat.value;
            let content = '';
            let filename = `passwords_${new Date().toISOString().split('T')[0]}`;
            let mimeType = '';
            
            switch (format) {
                case 'txt':
                    content = batchPasswords.join('\n');
                    filename += '.txt';
                    mimeType = 'text/plain';
                    break;
                    
                case 'csv':
                    content = 'Password\n' + batchPasswords.map(p => `"${p}"`).join('\n');
                    filename += '.csv';
                    mimeType = 'text/csv';
                    break;
                    
                case 'json':
                    content = JSON.stringify(batchPasswords, null, 2);
                    filename += '.json';
                    mimeType = 'application/json';
                    break;
            }
            
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            setTimeout(() => {
                URL.revokeObjectURL(url);
            }, 100);
            
            showToast(`å·²å¯¼å‡º ${batchPasswords.length} ä¸ªå¯†ç `);
        }

        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        function copyToClipboard(text) {
            if (!text || text === 'ç‚¹å‡»ç”ŸæˆæŒ‰é’®åˆ›å»ºæ‚¨çš„å¯†ç ') {
                showToast('æ²¡æœ‰å¯†ç å¯å¤åˆ¶', 'error');
                return;
            }
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text)
                    .then(() => {
                        showCopyNotification();
                        // æ’­æ”¾å¤åˆ¶éŸ³æ•ˆ
                        playSound('copy');
                    })
                    .catch(err => {
                        console.error('å¤åˆ¶å¤±è´¥:', err);
                        fallbackCopy(text);
                    });
            } else {
                fallbackCopy(text);
            }
        }

        function fallbackCopy(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                document.execCommand('copy');
                showCopyNotification();
                playSound('copy');
            } catch (err) {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                showToast('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
            }
            
            document.body.removeChild(textarea);
        }

        // éŸ³æ•ˆ
        function playSound(type) {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            let oscillator = audioContext.createOscillator();
            let gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            if (type === 'copy') {
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(880, audioContext.currentTime);
                gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            } else if (type === 'generate') {
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(880, audioContext.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.3);
            }
        }

        // äº‹ä»¶å¤„ç†
        function handleSliderInteraction(e) {
            if (e.type === 'mousedown' || e.type === 'touchstart') {
                isDragging = true;
                updateSliderValue(e);
            }
        }

        function updateSliderValue(e) {
            if (!isDragging && e.type !== 'click') return;
            
            let clientX;
            if (e.type === 'touchmove' || e.type === 'touchstart') {
                clientX = e.touches[0].clientX;
            } else {
                clientX = e.clientX;
            }
            
            const rect = lengthSlider.getBoundingClientRect();
            let x = clientX - rect.left;
            
            // çº¦æŸåœ¨æ»‘å—å®½åº¦èŒƒå›´å†…
            x = Math.max(0, Math.min(x, rect.width));
            
            // è®¡ç®—ç™¾åˆ†æ¯”å’Œå¯¹åº”çš„å€¼
            const percentage = x / rect.width;
            const rawValue = MIN_LENGTH + percentage * (MAX_LENGTH - MIN_LENGTH);
            const value = Math.round(rawValue);
            
            // æ›´æ–°UI
            lengthFill.style.width = `${percentage * 100}%`;
            lengthThumb.style.left = `${percentage * 100}%`;
            lengthValue.textContent = value;
            
            // æ›´æ–°é…ç½®
            config.length = value;
        }

        // äº‹ä»¶ç›‘å¬è®¾ç½®
        function setupEventListeners() {
            // ä¸»é¢˜åˆ‡æ¢
            themeSwitch.addEventListener('click', () => {
                themeSwitch.classList.toggle('dark');
                const isDark = themeSwitch.classList.contains('dark');
                document.body.setAttribute('data-theme', isDark ? 'dark' : 'light');
                saveToLocalStorage();
            });
            
            // ç”ŸæˆæŒ‰é’®
            generateBtn.addEventListener('click', (e) => {
                createRipple(e, generateBtn);
                const password = generatePassword();
                passwordDisplay.textContent = password;
                updateStrengthIndicator(password);
                addToHistory(password);
                playSound('generate');
                
                passwordDisplay.classList.add('generate-animation');
                setTimeout(() => {
                    passwordDisplay.classList.remove('generate-animation');
                }, 500);
            });
            
            // å¤åˆ¶æŒ‰é’®
            copyButton.addEventListener('click', (e) => {
                createRipple(e, copyButton);
                copyToClipboard(passwordDisplay.textContent);
            });
            
            // å¯†ç é•¿åº¦æ»‘å—
            lengthSlider.addEventListener('mousedown', handleSliderInteraction);
            lengthSlider.addEventListener('touchstart', handleSliderInteraction);
            lengthSlider.addEventListener('click', updateSliderValue);
            
            window.addEventListener('mousemove', updateSliderValue);
            window.addEventListener('touchmove', updateSliderValue);
            
            window.addEventListener('mouseup', () => {
                isDragging = false;
            });
            
            window.addEventListener('touchend', () => {
                isDragging = false;
            });
            
            // é¢„è®¾æŒ‰é’®
            presetButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    presetButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    config.preset = btn.dataset.preset;
                    
                    // è°ƒæ•´UIæ¥åŒ¹é…é¢„è®¾
                    if (config.preset === 'pin') {
                        config.length = 6;
                        config.uppercase = false;
                        config.lowercase = false;
                        config.numbers = true;
                        config.symbols = false;
                    } else if (config.preset === 'memorable') {
                        config.length = 16;
                        config.uppercase = true;
                        config.lowercase = true;
                        config.numbers = true;
                        config.symbols = false;
                    } else if (config.preset === 'strong') {
                        config.length = 20;
                        config.uppercase = true;
                        config.lowercase = true;
                        config.numbers = true;
                        config.symbols = true;
                    } else if (config.preset === 'words') {
                        config.length = 12;
                        config.uppercase = true;
                        config.lowercase = true;
                        config.numbers = true;
                        config.symbols = false;
                    }
                    
                    updateConfigUI();
                    createRipple(e, btn);
                });
            });
            
            // æŠ˜å /å±•å¼€åˆ‡æ¢
            advancedToggle.addEventListener('click', () => {
                advancedOptions.classList.toggle('expanded');
                advancedToggle.classList.toggle('expanded');
            });
            
            batchToggle.addEventListener('click', () => {
                batchOptions.classList.toggle('expanded');
                batchToggle.classList.toggle('expanded');
            });
            
            historyToggle.addEventListener('click', () => {
                historyOptions.classList.toggle('expanded');
                historyToggle.classList.toggle('expanded');
            });
            
            // å¤é€‰æ¡†é…ç½®æ›´æ–°
            uppercaseCheck.addEventListener('change', () => {
                config.uppercase = uppercaseCheck.checked;
            });
            
            lowercaseCheck.addEventListener('change', () => {
                config.lowercase = lowercaseCheck.checked;
            });
            
            numbersCheck.addEventListener('change', () => {
                config.numbers = numbersCheck.checked;
            });
            
            symbolsCheck.addEventListener('change', () => {
                config.symbols = symbolsCheck.checked;
            });
            
            excludeSimilarCheck.addEventListener('change', () => {
                config.excludeSimilar = excludeSimilarCheck.checked;
            });
            
            excludeDuplicatesCheck.addEventListener('change', () => {
                config.excludeDuplicates = excludeDuplicatesCheck.checked;
            });
            
            // æ–‡æœ¬å’Œæ•°å­—è¾“å…¥æ›´æ–°
            excludeChars.addEventListener('input', () => {
                config.excludeChars = excludeChars.value;
            });
            
            minNumbers.addEventListener('change', () => {
                config.minNumbers = parseInt(minNumbers.value) || 0;
            });
            
            minSymbols.addEventListener('change', () => {
                config.minSymbols = parseInt(minSymbols.value) || 0;
            });
            
            separator.addEventListener('input', () => {
                config.separator = separator.value;
            });
            
            separatorInterval.addEventListener('change', () => {
                config.separatorInterval = parseInt(separatorInterval.value) || 0;
            });
            
            customRegex.addEventListener('input', () => {
                config.customRegex = customRegex.value;
            });
            
            // æ‰¹é‡ç”ŸæˆæŒ‰é’®
            batchGenerateBtn.addEventListener('click', (e) => {
                createRipple(e, batchGenerateBtn);
                generateBatchPasswords();
            });
            
            // å¯¼å‡ºæŒ‰é’®
            batchExportBtn.addEventListener('click', (e) => {
                createRipple(e, batchExportBtn);
                exportBatchPasswords();
            });
            
            // æ¸…ç©ºå†å²æŒ‰é’®
            clearHistoryBtn.addEventListener('click', (e) => {
                createRipple(e, clearHistoryBtn);
                
                if (passwordHistory.length === 0) {
                    showToast('å†å²è®°å½•å·²ç»æ˜¯ç©ºçš„');
                    return;
                }
                
                passwordHistory = [];
                updateHistoryList();
                saveToLocalStorage();
                showToast('å†å²è®°å½•å·²æ¸…ç©º');
            });
            
            // ä¸ºæ‰€æœ‰æŒ‰é’®æ·»åŠ æ³¢çº¹æ•ˆæœ
            document.querySelectorAll('.btn, .btn-icon-only').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    createRipple(e, btn);
                });
            });
            
            // çª—å£å…³é—­æ—¶ä¿å­˜é…ç½®
            window.addEventListener('beforeunload', () => {
                saveToLocalStorage();
            });
        }

        // åˆå§‹åŒ–
        function init() {
            loadFromLocalStorage();
            setupEventListeners();
            
            // æ˜¾ç¤ºåˆå§‹å¯†ç å¼ºåº¦ï¼ˆå¦‚æœæœ‰ï¼‰
            if (passwordDisplay.textContent && passwordDisplay.textContent !== 'ç‚¹å‡»ç”ŸæˆæŒ‰é’®åˆ›å»ºæ‚¨çš„å¯†ç ') {
                updateStrengthIndicator(passwordDisplay.textContent);
            }
        }

        // å¯åŠ¨åº”ç”¨
        init();
    </script>
</body>
</html>

  

</article>



              </div>
            </div>
          </div>
        </div>
      </div>
    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.fluid-dev.com/docs" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <i class="iconfont icon-love"></i> <a href="https://www.github.com" target="_blank" rel="nofollow noopener"><span>Github</span></a> 
    </div>
  
  
  
    <!-- å¤‡æ¡ˆä¿¡æ¯ ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      äº¬ICPè¯543269å·
    </a>
  </span>
  
    
      <span>
        <a
          href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=78345081"
          rel="nofollow noopener"
          class="beian-police"
          target="_blank"
        >
          
            <span style="visibility: hidden; width: 0">|</span>
            <img src="/img/police_beian.png" srcset="/img/loading.gif" lazyload alt="police-icon"/>
          
          <span>äº¬å…¬ç½‘å®‰å¤‡78345081å·</span>
        </a>
      </span>
    
  
</div>

  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
